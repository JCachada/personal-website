<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.75 'Merriweather','Georgia',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:#c0c0c0;font-family:'Merriweather','Georgia',serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:Montserrat,sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:2.5rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:500;text-rendering:optimizeLegibility;font-size:1.73286rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:500;text-rendering:optimizeLegibility;font-size:1.4427rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:500;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;letter-spacing:0.140625em;text-transform:uppercase;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:500;text-rendering:optimizeLegibility;font-size:0.83255rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:500;text-rendering:optimizeLegibility;font-size:0.75966rem;line-height:1.1;font-style:italic;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}ul{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;list-style:disc;}ol{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:0.85rem;line-height:1.75rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1rem;line-height:1.75rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}blockquote{margin-left:-1.75rem;margin-right:1.75rem;margin-top:0;padding-bottom:0;padding-left:1.42188rem;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1.20112rem;line-height:1.75rem;color:white;font-style:italic;border-left:0.32813rem solid hsla(0,0%,0%,0.9);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.75rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.75rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}li > ul{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.75rem / 2);}code{font-size:0.85rem;line-height:1.75rem;}kbd{font-size:0.85rem;line-height:1.75rem;}samp{font-size:0.85rem;line-height:1.75rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.16667rem;padding-right:1.16667rem;padding-top:0.875rem;padding-bottom:calc(0.875rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.75rem;color:#c0c0c0;font-weight:400;}blockquote cite:before{content:"— ";}ul,ol{margin-left:0;}@media only screen and (max-width:480px){ul,ol{margin-left:1.75rem;}blockquote{margin-left:-1.3125rem;margin-right:0;padding-left:0.98438rem;}}h1,h2,h3,h4,h5,h6{margin-top:3.5rem;}a{box-shadow:0 1px 0 0 currentColor;color:#007acc;text-decoration:none;}a:hover,a:active{box-shadow:none;}mark,ins{background:#007acc;color:white;padding:0.10938rem 0.21875rem;text-decoration:none;}</style><style data-href="/styles.ef9c97a00bd1ce5e2c2b.css" id="gatsby-global-css">@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-8d7d79679b70dbe27172b6460e7a7910.woff2) format("woff2"),url(/static/montserrat-latin-100-ec38980a9e0119a379e2a9b3dbb1901a.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-e279051046ba1286706adc886cf1c96b.woff2) format("woff2"),url(/static/montserrat-latin-100italic-3b325a3173c8207435cd1b76e19bf501.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-9d266fbbfa6cab7009bd56003b1eeb67.woff2) format("woff2"),url(/static/montserrat-latin-200-2d8ba08717110d27122e54c34b8a5798.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-6e5b3756583bb2263eb062eae992735e.woff2) format("woff2"),url(/static/montserrat-latin-200italic-a0d6f343e4b536c582926255367a57da.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-00b3e893aab5a8fd632d6342eb72551a.woff2) format("woff2"),url(/static/montserrat-latin-300-ea303695ceab35f17e7d062f30e0173b.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-56f34ea368f6aedf89583d444bbcb227.woff2) format("woff2"),url(/static/montserrat-latin-300italic-54b0bf2c8c4c12ffafd803be2466a790.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-b71748ae4f80ec8c014def4c5fa8688b.woff2) format("woff2"),url(/static/montserrat-latin-400-0659a9f4e90db5cf51b50d005bff1e41.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-6eed6b4cbb809c6efc7aa7ddad6dbe3e.woff2) format("woff2"),url(/static/montserrat-latin-400italic-7583622cfde30ae49086d18447ab28e7.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-091b209546e16313fd4f4fc36090c757.woff2) format("woff2"),url(/static/montserrat-latin-500-edd311588712a96bbf435fad264fff62.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-c90ced68b46050061d1a41842d6dfb43.woff2) format("woff2"),url(/static/montserrat-latin-500italic-5146cbfe02b1deea5dffea27a5f2f998.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-0480d2f8a71f38db8633b84d8722e0c2.woff2) format("woff2"),url(/static/montserrat-latin-600-b77863a375260a05dd13f86a1cee598f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-cf46ffb11f3a60d7df0567f8851a1d00.woff2) format("woff2"),url(/static/montserrat-latin-600italic-c4fcfeeb057724724097167e57bd7801.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-7dbcc8a5ea2289d83f657c25b4be6193.woff2) format("woff2"),url(/static/montserrat-latin-700-99271a835e1cae8c76ef8bba99a8cc4e.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-c41ad6bdb4bd504a843d546d0a47958d.woff2) format("woff2"),url(/static/montserrat-latin-700italic-6779372f04095051c62ed36bc1dcc142.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-db9a3e0ba7eaea32e5f55328ace6cf23.woff2) format("woff2"),url(/static/montserrat-latin-800-4e3c615967a2360f5db87d2f0fd2456f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-bf45bfa14805969eda318973947bc42b.woff2) format("woff2"),url(/static/montserrat-latin-800italic-fe82abb0bcede51bf724254878e0c374.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-e66c7edc609e24bacbb705175669d814.woff2) format("woff2"),url(/static/montserrat-latin-900-8211f418baeb8ec880b80ba3c682f957.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-4454c775e48152c1a72510ceed3603e2.woff2) format("woff2"),url(/static/montserrat-latin-900italic-efcaa0f6a82ee0640b83a0916e6e8d68.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-fc117160c69a8ea0851b26dd14748ee4.woff2) format("woff2"),url(/static/merriweather-latin-300-58b18067ebbd21fda77b67e73c241d3b.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-fe29961474f8dbf77c0aa7b9a629e4bc.woff2) format("woff2"),url(/static/merriweather-latin-300italic-23c3f1f88683618a4fb8d265d33d383a.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-d9479e8023bef9cbd9bf8d6eabd6bf36.woff2) format("woff2"),url(/static/merriweather-latin-400-040426f99ff6e00b86506452e0d1f10b.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-2de7bfeaf08fb03d4315d49947f062f7.woff2) format("woff2"),url(/static/merriweather-latin-400italic-79db67aca65f5285964ab332bd65f451.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-4b08e01d805fa35d7bf777f1b24314ae.woff2) format("woff2"),url(/static/merriweather-latin-700-22fb8afba4ab1f093b6ef9e28a9b6e92.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-cd92541b177652fffb6e3b952f1c33f1.woff2) format("woff2"),url(/static/merriweather-latin-700italic-f87f3d87cea0dd0979bfc8ac9ea90243.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-f813fc6a4bee46eda5224ac7ebf1b7be.woff2) format("woff2"),url(/static/merriweather-latin-900-5d4e42cb44410674acd99153d57df032.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-b7901d85486871c1779c0e93ddd85656.woff2) format("woff2"),url(/static/merriweather-latin-900italic-9647f9fdab98756989a8a5550eb205c3.woff) format("woff")}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}html{min-height:100%;position:relative}</style><meta name="generator" content="Gatsby 3.4.0"/><style id="glamor-styles">.css-ng651o,[data-css-ng651o]{color:#c0c0c0;}.css-1onj2ha,[data-css-1onj2ha]{color:#635e69;}.css-1onj2ha:hover,[data-css-1onj2ha]:hover{color:#c0c0c0;text-decoration:underline;}.css-xkowkk,[data-css-xkowkk]{display:none;}@media (min-width: 750px){.css-xkowkk,[data-css-xkowkk]{display:block;}}.css-1vy4nej,[data-css-1vy4nej]{display:block;}@media (min-width: 750px){.css-1vy4nej,[data-css-1vy4nej]{display:none;}}.css-jouzk8,[data-css-jouzk8]{fontsize:10px;}</style><script id="glamor-ids">
        // <![CDATA[
        window._glamor = ["ng651o","1onj2ha","xkowkk","1vy4nej","jouzk8"]
        // ]]>
        </script><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=6b6fc9ba55501c39e18f05978f0baf68" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=6b6fc9ba55501c39e18f05978f0baf68"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=6b6fc9ba55501c39e18f05978f0baf68"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=6b6fc9ba55501c39e18f05978f0baf68"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=6b6fc9ba55501c39e18f05978f0baf68"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=6b6fc9ba55501c39e18f05978f0baf68"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=6b6fc9ba55501c39e18f05978f0baf68"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=6b6fc9ba55501c39e18f05978f0baf68"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=6b6fc9ba55501c39e18f05978f0baf68"/><title data-react-helmet="true">Dev Diaries #3: July Update | J. Cachada Personal Website</title><meta data-react-helmet="true" name="description" content="An update on the state of the game as of July 2020, in the form of an implementation overview for 2D combat."/><meta data-react-helmet="true" property="og:title" content="Dev Diaries #3: July Update"/><meta data-react-helmet="true" property="og:description" content="An update on the state of the game as of July 2020, in the form of an implementation overview for 2D combat."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="instagram:card" content="summary"/><meta data-react-helmet="true" name="instagram:creator" content="j.cachada"/><meta data-react-helmet="true" name="isntagram:title" content="Dev Diaries #3: July Update"/><meta data-react-helmet="true" name="instagram:description" content="An update on the state of the game as of July 2020, in the form of an implementation overview for 2D combat."/><link as="script" rel="preload" href="/webpack-runtime-3f4bb3d5f74d12b7f003.js"/><link as="script" rel="preload" href="/framework-576a35283827f43a776d.js"/><link as="script" rel="preload" href="/app-53d9f45c280111285cc6.js"/><link as="script" rel="preload" href="/commons-5d21bf50adf654eb67de.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-552a845a6f752648ecfa.js"/><link as="fetch" rel="preload" href="/page-data/game-update-july-2020/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1923641857.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2729794218.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2744905544.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3129532594.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/642825376.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.documentElement.classList.add('theme-ui-' + mode);
  document.body.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion="css-global ewi8t1">body{--theme-ui-colors-text:#c0c0c0;--theme-ui-colors-background:#111111;color:var(--theme-ui-colors-text);background-color:var(--theme-ui-colors-background);}body.theme-ui-dark{--theme-ui-colors-text:#c0c0c0;--theme-ui-colors-background:#111111;}body.theme-ui-light{--theme-ui-colors-text:#111111;--theme-ui-colors-background:#ffffff;}body.theme-ui-deep{--theme-ui-colors-text:#c0c0c0;--theme-ui-colors-background:#141821;}</style><style data-emotion="css-global 0"></style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div style="margin-left:auto;margin-right:auto"><header style="box-shadow:0px 1px 1px 0px rgba(35,33,41,1);padding:1.225rem 1.3125rem" class="css-xkowkk"><h3 style="margin-bottom:0rem;margin-top:0"><a style="box-shadow:none;text-decoration:none" class="css-ng651o" href="/">Home</a><a style="font-size:1.31638rem;line-height:1.75rem;box-shadow:none;text-decoration:none;padding-left:20px" class="css-1onj2ha" href="/am-I-any-good">Am I any good?</a><a style="font-size:1.31638rem;line-height:1.75rem;box-shadow:none;text-decoration:none;padding-left:20px" class="css-1onj2ha" href="/blog">Blog</a><a style="font-size:1.31638rem;line-height:1.75rem;box-shadow:none;text-decoration:none;padding-left:20px" class="css-1onj2ha" href="/writing">Writing</a><a style="font-size:1.31638rem;line-height:1.75rem;box-shadow:none;text-decoration:none;padding-left:20px" class="css-1onj2ha" href="/games">Games</a><a style="font-size:1.31638rem;line-height:1.75rem;box-shadow:none;text-decoration:none;padding-left:20px" class="css-1onj2ha" href="/cv">Résumé</a><a style="font-size:1.31638rem;line-height:1.75rem;box-shadow:none;text-decoration:none;padding-left:20px" class="css-1onj2ha" href="/about">About</a><div style="float:right;vertical-align:center;padding-top:3px"><header><button style="background:Transparent;border:none;cursor:pointer;overflow:hidden;outline:none"></button></header></div><div style="float:right;vertical-align:center"><div><input type="text" placeholder="  Search" style="color:white;background-color:#232129;border:1px solid #585e69;font-size:22px;border-radius:10px" class="search__input css-jouzk8"/><div class="search__list"></div></div></div></h3></header><header style="box-shadow:0px 1px 1px 0px rgba(35,33,41,1);padding:1.225rem 1.3125rem" class="css-1vy4nej"><h3 style="margin-bottom:0rem;margin-top:0"><a style="box-shadow:none;text-decoration:none" class="css-ng651o" href="/">Home</a><div style="float:right;vertical-align:center;padding-top:3px"><header><button style="background:Transparent;border:none;cursor:pointer;overflow:hidden;outline:none"></button></header></div><div style="vertical-align:center"><div><input type="text" placeholder="  Search" style="color:white;background-color:#232129;border:1px solid #585e69;font-size:22px;border-radius:10px" class="search__input css-jouzk8"/><div class="search__list"></div></div></div></h3></header><main style="font-size:18px;margin-left:auto;margin-right:auto;max-width:42rem;padding:0rem 1.3125rem 5.25rem;word-wrap:normal"><article><header><h1 style="margin-top:1.75rem;margin-bottom:0">Dev Diaries #3: July Update</h1><p style="font-size:0.83255rem;line-height:1.75rem;display:block;margin-bottom:1.75rem">July 05, 2020</p></header><section><p>Last month I said I was iterating on gameplay loops to try and find something that works for the game while I grind away at the book. This month I will do my first actual implementation overview, and sort of go through the challenges of implementing the sort of 2D combat that you see traditionally in a lot of indie games.</p>
<h2>Responsibility</h2>
<p>The game is being developed on Godot Engine, and Godot uses the concept of a <a href="https://docs.godotengine.org/en/stable/getting_started/step_by_step/godot_design_philosophy.html">scene tree.</a> Understanding Godot’s design philosophy is extremely important to make sure things work properly in the end and you can assemble the different blocks in a single scene without everything being very cumbersome to change. From my understanding of it, the design rules for designing a game’s scenes are very similar to the design rules for designing, say, APIs. One of the most important questions you’ll have to answer in both is what the responsibilities are for specific classes. Generally speaking, in software, it’s a good idea to follow the <em>Single Responsibility Principle</em> (SRP). According to Wikipedia, the SRP states that:</p>
<p><code class="language-text">every module or class should have responsibility over a single part of the functionality provided by the software, and that responsibility should be entirely encapsulated by the class, module or function.</code></p>
<p>This is just a fancy way of saying that your classes should do one thing, and one thing alone.</p>
<p>In Godot, the Scene’s responsibility is that of <em>orchestrating</em> everything else. So, for a combat scenario where you have a character fighting a monster, the character and the monster handle themselves. They know when they get hit, when they’re supposed to change their animation, and in general can behave without input from other classes. But the scene is what controls everything they don’t know themselves; for instance, the GUI, their relative positions, and whatever information they need to react to that they don’t have in their own class.</p>
<p>With that in mind, let’s check what the composition was for the scene that I assembled containing the proof of concept for 2D combat.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/bf17ede4c54fb34532c4d8b0d9265c16/f766a/scene-composition.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 49.079754601226995%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAACCklEQVQoz2WRW0/bQBBG8ysokHuAgJMYYse3rB3HuTm+7NqB8kAViarltQ889P+fyk5FkfrwaWdmd46+2WlYIkWfReizFYa3x/YlzkJhiYzRNER7WKA9hIynSyZmxN19wHDic6v7DPXgpInA9PZYfk5DRAeW2yeClSLLS9JMESc5+zQnSSRJKtknsq7V9aTKq3tJGqeku4QkyQgiiVg90Zg6MYa7Q4QpWZpSKEWhJIdHRfFYoMrio1ZIiVKVFIXMWb0cCV7fkGVBtMmJ4mcappfghRLHj8mzvG6WecFj4nP8ahK6JuJOQwxvEdoIcXuHf3WNZXm0f7xz8fM31vGNaFl9V0ZDmy4YGxFTe0WW5ajKRVmymIzx2k3sdhvrssWs18d7PmD2+jjn5+jjey5ef3H2/R3z+IYQawbanMbYWHGleUymAXkukVJSlCWBruP1BtjdXg2dXd3gfHupT7vdqTUxXYbziE0YEW0lhhvTMOdJ7dDydv8BZ5dN7E63brYGAxy5x+oPTsBOF7fZxD77ws73cYOY65GgYXgJN2Mf3QjJ89PIFXCh61jN1slhBe10cbrdj7hWt8+s3WEXBDj+lqtqZDtQaA9LdDOs3dUODyX+aIz55YJZs1U7/adPebNVv9kK/zMwr7dsOOvTUpRCFQVxtGTtemzmgrX3V59jT5zuXI8sjrHFpgb+AV+5T+rUBxUWAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="image info"
        title="Scene composition"
        src="/static/bf17ede4c54fb34532c4d8b0d9265c16/663f3/scene-composition.png"
        srcset="/static/bf17ede4c54fb34532c4d8b0d9265c16/5e043/scene-composition.png 163w,
/static/bf17ede4c54fb34532c4d8b0d9265c16/e5cc6/scene-composition.png 325w,
/static/bf17ede4c54fb34532c4d8b0d9265c16/663f3/scene-composition.png 650w,
/static/bf17ede4c54fb34532c4d8b0d9265c16/d880f/scene-composition.png 975w,
/static/bf17ede4c54fb34532c4d8b0d9265c16/4c573/scene-composition.png 1300w,
/static/bf17ede4c54fb34532c4d8b0d9265c16/f766a/scene-composition.png 1808w"
        sizes="(max-width: 650px) 100vw, 650px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>You can see there are four main components in the scene: the player character, a monster (here represented by a nice little ghost), an obstacle in the form of a pillar, and the GUI controlling the player’s health and stamina.</p>
<p>Keeping in line with what I mentioned before, let’s look at what the code looks like in the actual scene’s file.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">func _ready<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	$Player<span class="token punctuation">.</span>start<span class="token punctuation">(</span>$PlayerStartPosition<span class="token punctuation">.</span>position<span class="token punctuation">,</span> true<span class="token punctuation">)</span>
	$Mob<span class="token punctuation">.</span>start<span class="token punctuation">(</span>$PlayerStartPosition<span class="token punctuation">.</span>position<span class="token punctuation">)</span>
	$CombatGUI<span class="token punctuation">.</span>updateHealth<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	$CombatGUI<span class="token punctuation">.</span>updateStamina<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
func _on_Mob_shoot<span class="token punctuation">(</span>bullet<span class="token punctuation">,</span> pos<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token comment">## Spawns the bullet, makes it move, and rotates it to move towards the player.</span>
	var b <span class="token operator">=</span> bullet<span class="token punctuation">.</span>instance<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	add_child<span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
	var <span class="token builtin">dir</span> <span class="token operator">=</span> Vector2<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>rotated<span class="token punctuation">(</span>$Mob<span class="token punctuation">.</span>position<span class="token punctuation">.</span>angle_to_point<span class="token punctuation">(</span>$Player<span class="token punctuation">.</span>global_position<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	b<span class="token punctuation">.</span>start<span class="token punctuation">(</span>pos<span class="token punctuation">,</span> <span class="token builtin">dir</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

func _on_Player_update_Healthbar<span class="token punctuation">(</span>health<span class="token punctuation">)</span><span class="token punctuation">:</span>
	$CombatGUI<span class="token punctuation">.</span>updateHealth<span class="token punctuation">(</span>health<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>
<p>There are three things here: first, the ready function, that starts the whole scene. It spawns the player at a particular position, does the same for the mob, and sets the GUI to show full health and stamina. The player and the mob both control their own health - it wouldn’t make any sense for the scene orchestrating them to control it. But it does make sense for the scene to orchestrate the GUI to match the player’s health, and since the player class always spawns the player at full health and stamina when instanced, we can just set the GUI to show full health and stamina. In a full production level, we could make the scene set the GUI values to <code class="language-text">$Player.currentHealth</code> instead of 100.</p>
<p>The second function is <code class="language-text">on_Mob_shoot</code>. You might be wondering why spawning the bullet that the monster shoots is the responsibility of the scene, and not the responsibility of the monster. The easy reply is that the monster class doesn’t have all the information required to spawn the bullet itself. The bullet needs to be spawned pointing towards the player character’s position, and the monster has no idea what the player character’s position is. Besides, the monster has to spawn the bullet in a specific position in the actual scene, and the only class that can do that is the scene itself. If the monster is the child of the scene, and the bullet is a child of the scene too - one that will exist and behave independently of the monster - then the bullet needs to be a child of the scene as well, and not a child of the monster.</p>
<p>Lastly, there is <code class="language-text">_on_Player_update_Healthbar</code>. This function, like the last one, is a signal - meaning it triggers when something else happens that emits the signal this function is listening for. In this case, the trigger would be the player’s health updating. If the player knows that it got shot, and updates his own health accordingly, then the scene, that has control of the GUI, should make sure the GUI reflects the update in the player’s health. If we were doing stamina management as well, there should be another function listening in for when the player updates his own stamina. However, for the proof of concept, there is still no stamina management implemented.</p>
<p>I won’t give a detailed look into the Player class in this game, mainly because I feel like it deserves a blog post of its own in the future. In rough terms, the Player class takes input from the user and can move and attack. Besides that, it can take damage, and it will die if it takes too much of it.</p>
<p>I will, however, go into a big challenge that I found when implementing the Monster class: pathfinding, or enemy AI in general.</p>
<h2>Pathfinding AI</h2>
<p>The basic behavior I wanted from the monster was that it would chase the player around and shoot it whenever it got close enough. This was mostly easy to implement, except for one thing: pathfinding. Remember the pillar in the middle of the scene? Making the monster move in a straight line towards the player was easy enough, but making the monster calculate the best possible path if the player hid behind a pillar was actually very challenging.</p>
<p>Let’s get right into it. This is how things ended up looking:</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">	
func _process<span class="token punctuation">(</span>delta<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">if</span> mobHealth <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>
		queue_free<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token keyword">if</span> stopMoving<span class="token punctuation">:</span> 
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token comment"># The start position for the pathfinding is the mob's current position.</span>
	<span class="token comment"># The goal position for the pathfinding is the player's current position.</span>
	
	startPosition <span class="token operator">=</span> position
	endPosition <span class="token operator">=</span> player<span class="token punctuation">.</span>position
	<span class="token keyword">if</span><span class="token punctuation">(</span>player<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">></span> position<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span> 
		$ProperAnimation<span class="token punctuation">.</span>flip_h <span class="token operator">=</span> true<span class="token punctuation">;</span>
	<span class="token keyword">else</span><span class="token punctuation">:</span>
		$ProperAnimation<span class="token punctuation">.</span>flip_h <span class="token operator">=</span> false<span class="token punctuation">;</span>
	_update_path<span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> path<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">:</span>
		var to_walk <span class="token operator">=</span> delta <span class="token operator">*</span> speed
		<span class="token keyword">while</span> to_walk <span class="token operator">></span> <span class="token number">0</span> <span class="token keyword">and</span> path<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">2</span><span class="token punctuation">:</span>
			var pfrom <span class="token operator">=</span> path<span class="token punctuation">[</span>path<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
			var pto <span class="token operator">=</span> path<span class="token punctuation">[</span>path<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span>
			var d <span class="token operator">=</span> pfrom<span class="token punctuation">.</span>distance_to<span class="token punctuation">(</span>pto<span class="token punctuation">)</span>
			<span class="token keyword">if</span> d <span class="token operator">&lt;=</span> to_walk<span class="token punctuation">:</span>
				path<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>path<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
				to_walk <span class="token operator">-=</span> d
			<span class="token keyword">else</span><span class="token punctuation">:</span>
				path<span class="token punctuation">[</span>path<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> pfrom<span class="token punctuation">.</span>linear_interpolate<span class="token punctuation">(</span>pto<span class="token punctuation">,</span> to_walk<span class="token operator">/</span>d<span class="token punctuation">)</span>
				to_walk <span class="token operator">=</span> <span class="token number">0</span>
		
		var atpos <span class="token operator">=</span> path<span class="token punctuation">[</span>path<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
		position <span class="token operator">=</span> atpos
		
		<span class="token keyword">if</span> path<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">:</span>
			path <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
			set_process<span class="token punctuation">(</span>false<span class="token punctuation">)</span>
	<span class="token keyword">else</span><span class="token punctuation">:</span>
		set_process<span class="token punctuation">(</span>false<span class="token punctuation">)</span>
	
<span class="token comment">## Calculates a new path using the available Navigation 2D node. The startPosition and endPosition are updated every frame on the process function.</span>
	
func _update_path<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	var p <span class="token operator">=</span> navigation<span class="token punctuation">.</span>get_simple_path<span class="token punctuation">(</span>startPosition<span class="token punctuation">,</span> endPosition<span class="token punctuation">,</span> true<span class="token punctuation">)</span>
	path <span class="token operator">=</span> Array<span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token comment"># PoolVector2Array too complex to use, convert to regular array</span>
	path<span class="token punctuation">.</span>invert<span class="token punctuation">(</span><span class="token punctuation">)</span>
	set_process<span class="token punctuation">(</span>true<span class="token punctuation">)</span></code></pre></div>
<p>Oof, that’s a lot to unpack.</p>
<p>First off, the <code class="language-text">_process</code> function. This is a function that runs on every frame that the game renders. It’s useful for things that need to constantly be recalculated, like, for instance, what the best path to take is.</p>
<p>The first thing we do is check if the mob should be moving or not. This is a simple flag to add that can save a lot of computation later. If the mob shouldn’t be moving, there is no need to do any path calculation whatsoever, so we can make sure we’re not using any processing power doing that if the flag says it’s not needed.</p>
<p>Then, we determine where the monster needs to move from, and where it needs to move to. It needs to go from where it currently is (that’s the start position) to where the player is at the time of the calculation (that’s the end position).</p>
<p>What follows is a simple animation check to deal with the sprites. If the player is to the left of the monster, we need to make sure the sprite is facing left. If the player is to the right of the monster, we need to make sure the sprite is facing right. Otherwise, the monster would look like it’s moonwalking towards the player sometimes. It’s a ghost, but it has no eyes on its back!</p>
<p>Then, we jump to the <code class="language-text">updatePath()</code> function. This was the saving grace of my development process. I tried for hours to find a way to algorithmically calculate what the best way to dodge a specific obstacle would be for the monster. Among other things, I tried:</p>
<ul>
<li>Having collision boxes on the obstacles and the monster. When the monster met an object, it would calculate the distance it was between itself and the top and the bottom of the obstacle, then it would try to go around it through the shortest possible path. This didn’t work very well for situations where there were multiple obstacles: the monster would try to go around one, then bump into another, try to go around that one, and end up moving away from the player instead of taking a different path that was a bit longer but allowed it to actually chase its prey.</li>
<li>Having the monster hit the obstacles at a slight angle. This way, it would sort of slide off the pillar and eventually be able to move around it before continuing to chase the player in a straight line. This also didn’t work great with multiple obstacles, because then the monster could easily get stuck if there was no place it could slide to.</li>
</ul>
<p>That’s when I found out about <a href="https://docs.godotengine.org/en/stable/classes/class_navigation2d.html">Navigation2D.</a>. It turns out Godot already provided the functionality of pathfinding I wanted to implement: all I needed to do was create a Navigation2D node and declare what the “walkable” area of the scene was. Any area outside that wouldn’t be considered valid for pathfinding purposes, making the monster path around it. I added a Navigation2D that excluded the pillar, and made the monster update its own path by checking that node instead of trying to calculate it programatically. The <code class="language-text">update_path</code> function then returns an array of points the monster would have to move to in sequence in order to reach the player.</p>
<p>The rest of the process function just executes on that array, by moving to each point in sequence while there are points to move to. This movement can now be in a straight line, because the points themselves will already illustrate the path that the monster needs to move around. If there aren’t any points left to move to, the monster just stops moving. There is a collision box checking when it is close enough to the player and toggling the “stop moving” flag when the monster is close enough to shoot, so the monster never actually runs out of path to follow; what happens is that when it gets close enough, it stops processing the path. When the player leaves the monster’s range, the flag gets toggled, and the monster begins processing the path again on every frame.</p>
<p>Here’s what it looks like in motion:</p>
<p><img src="/3dbb8b42b088bd66bf123328e4eb70d4/working2DCombat.gif" alt="image info" title="Working POC"></p>
<h2>Back to responsibility</h2>
<p>If you were paying attention, you might have noticed the reason I had the bullets be spawned by the scene itself, instead of by the monster, is that the monster should have no idea what the relative position of the player is. But in my implementation of the moving algorithm, I use the player’s current position as the end position for the monster’s <code class="language-text">_process</code> function!</p>
<p>You would be right to notice this. This is, in fact, a good indication that calculating the path should be a responsibility of the scene. Most likely, the monster should only have a function named <code class="language-text">move()</code> that receives an array of positions, and executes on it; while calculating the content of that array of positions should be done by the scene, because it has all the information required to do so, whereas the monster shouldn’t. Imagine we wanted to spawn a monster in a scene with no player: the way things are implemented above, we’d have to create a new Monster implementation, because it would break when trying to use the player’s end position.</p>
<p>For the purposes of the proof of concept, I decided not to change this, and to let it live as a reminder of how proper design often comes from iteration. If I was developing the actual end product, that would be a necessary change going forward. For now, I think it’s more important for me to start looking at other aspects of the game, and to polish the design of whatever gameplay loop I end up going with in the end.</p>
<h2>Acknowledgement</h2>
<p>Most of the assets you see in the proof of concept are free assets I’m using for mocking purposes, and they come from itch.io. You can find several free asset packs to work with there, although most of them require crediting if you end up using them in your end products.</p>
<h2>What’s next?</h2>
<p>Next month I’ll either write a new blog post on the implementation of another core system or, if I make any progress on the proof of concept for other gameplay loops, outline those, much like I did here for 2D combat. As usual, the development of the game is somewhat slowed, as the book takes precedence this year.</p>
<p>If you have any questions, comments or feedback, feel free to reach out to me through any of the channels I make available in the About page; and if you want to give a more in-depth look to the code, you can check my github, linked in the footer. Bear in mind all of this details my journey in self-teaching both Godot and game development, so I’m sure some of the ways I handle things are not optimal. It’s part of the learning process.</p></section><hr style="margin-bottom:1.75rem"/><footer><div style="display:flex;margin-bottom:0rem"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:50px;height:50px;margin-right:0.875rem;margin-bottom:0;min-width:50px;border-radius:100%"><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQADAAAAAAAAAAAAAAAAAAUBBAb/xAAUAQEAAAAAAAAAAAAAAAAAAAAD/9oADAMBAAIQAxAAAAGlFsSxSayUulkBpoBD/8QAGhAAAgMBAQAAAAAAAAAAAAAAAQIAAxEQEv/aAAgBAQABBQKX+lOwjRbWAvLXJWf/xAAWEQEBAQAAAAAAAAAAAAAAAAAQEQL/2gAIAQMBAT8BlNH/xAAWEQEBAQAAAAAAAAAAAAAAAAAQAQL/2gAIAQIBAT8Bhg//xAAcEAABBAMBAAAAAAAAAAAAAAABABARIQJBUXH/2gAIAQEABj8CU69YgoxhTgdtv//EAB0QAQACAgIDAAAAAAAAAAAAAAEAESExQVGBofD/2gAIAQEAAT8hZeJRuNoq9+4RCxiJibvlj9idy2GBY8x3P//aAAwDAQACAAMAAAAQVz8//8QAFxEBAAMAAAAAAAAAAAAAAAAAEAERMf/aAAgBAwEBPxCaDB//xAAXEQEBAQEAAAAAAAAAAAAAAAABABAh/9oACAECAQE/EGDg7N//xAAfEAEAAgICAgMAAAAAAAAAAAABABEhMUFRYXGBkfD/2gAIAQEAAT8QQrmiYwnHN89Q+n7Q+g6RiRxFVqTkOptthX88RJVYTlUV6xMll3P/2Q==" alt="João Cachada" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms;border-radius:50%"/><noscript><picture><source srcset="/static/73f12c6d72fe9444272b0fa6a2617d7c/99438/profile-pic.jpg 1x,
/static/73f12c6d72fe9444272b0fa6a2617d7c/aba1d/profile-pic.jpg 1.5x,
/static/73f12c6d72fe9444272b0fa6a2617d7c/b315d/profile-pic.jpg 2x" /><img loading="lazy" width="50" height="50" srcset="/static/73f12c6d72fe9444272b0fa6a2617d7c/99438/profile-pic.jpg 1x,
/static/73f12c6d72fe9444272b0fa6a2617d7c/aba1d/profile-pic.jpg 1.5x,
/static/73f12c6d72fe9444272b0fa6a2617d7c/b315d/profile-pic.jpg 2x" src="/static/73f12c6d72fe9444272b0fa6a2617d7c/99438/profile-pic.jpg" alt="João Cachada" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><p>Written by <strong>João Cachada</strong>, <!-- -->awesome dude.<!-- --> <a href="https://instagram.com/j.cachada">You should follow him on Instagram.</a></p></div></footer></article><nav><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/book-update-june-2020/">← <!-- -->Book Update #2: Second Drafting, plot cohesion, and titles</a></li><li><a rel="next" href="/book-update-july-2020/">Book Update #3: Balance in the opening, and the problem with exposition<!-- --> →</a></li></ul></nav></main><div style="position:absolute;bottom:0;width:100%;text-align:center;padding:1.05rem 0rem"><footer style="padding-top:1.05rem;box-shadow:0px -1px 0px rgba(35,33,41,1)"><a href="https://instagram.com/j.cachada" style="box-shadow:none;vertical-align:middle"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:30px;height:30px;margin-right:0.875rem;margin-bottom:0;min-width:0;border-radius:0%"><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACQElEQVQ4y4WVO2iUURCFdxW1ER9oGxWJisGkt7IIWBl8FRorYys24guMWIXYWAmJNoomhXYp7AIhsU8CIlrpiqRMhJW4xN3sd2Tk/DK77OoPw33NPXfO3LnnL0naApSAHcAFYBQYk/QIGJfUYp6LtTHgLnBaUskY5ZIHx4APgAqLr2jzl9dSfxbYG6ABtj3A7L+RNq5K+iypEgZU3I+5avLbcDsTwUWE54sFn7giaShOlLQb2FVYMZYUa1clrXtPwxH3R4T3E7UVYB9wCpiXFGlYBhaBpehL+gS8AwYk9RcROqiLEeHDlKIzBlO3D9gErgNvgeOSbqV8Xg7AB/ZddWLni3zacQG4AcTGj0AdCOovgSngcDrsUgb8EjkKmukWR2u1WqRlEDhZr9ej/ypF9Bo4FDk0RgtgxclfNuBCtVoNgLlUTk+BbcA3+0xLCsDNjoCSAnDRzkFz0Gu/JDUN2gtM2GeqK6DrLACXPL4dNE2tmdLQAzz/L2AHyu+bzWYZeJbAbkraA6x5zz8pt1yKQV74JQXNHoPNpUt5Axzsdik/gP1RXx7/9MavkTPTXDPQug8MoehrL5tc2NeAo/nhtwtDEoTvwE5Jj9P8cADeSxNx8gBwAHjiOpt2AU+5TILmuMGGikszxrmS9ezvy7Di3JF0xEXbYs5ZX1tkARjWW+jhrEEbbRTrVpJGbhP9ZiqpiT/yZaWNNzyTBbZdZDsJq8cR2SSwtRDYskHDToQEAVeAEUkjnVpgOJQFOBs08y/gN41ArBdrWhbSAAAAAElFTkSuQmCC" alt="instagram-icon" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms;border-radius:0%"/><noscript><picture><source srcset="/static/59d1e1bdf17e3e5cc87b4912d044b739/91664/instagram-icon.png 1x,
/static/59d1e1bdf17e3e5cc87b4912d044b739/ad39b/instagram-icon.png 1.5x,
/static/59d1e1bdf17e3e5cc87b4912d044b739/183c2/instagram-icon.png 2x" /><img loading="lazy" width="30" height="30" srcset="/static/59d1e1bdf17e3e5cc87b4912d044b739/91664/instagram-icon.png 1x,
/static/59d1e1bdf17e3e5cc87b4912d044b739/ad39b/instagram-icon.png 1.5x,
/static/59d1e1bdf17e3e5cc87b4912d044b739/183c2/instagram-icon.png 2x" src="/static/59d1e1bdf17e3e5cc87b4912d044b739/91664/instagram-icon.png" alt="instagram-icon" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></a><a href="https://github.com/JCachada" style="box-shadow:none;vertical-align:middle"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:30px;height:30px;margin-right:0.875rem;margin-bottom:0;margin-top:0;min-width:0;border-radius:0%"><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB8klEQVQ4y4WVvWtVQRDFb95TklpQC4uA/0DKFMEmoIVEI6lES/sQQqzUxiJNGhs7LZPCSgSJWCRI7ENiGxDLgCIYwa/k/GQeZx7j+sSBYffOx9mZuWfv7SR1qUAf6KwzwCrwCtiTtOf9qqSZEjfIcX433Egac8A0sM3/ZVvStHMyt+saw2JJ+CXpZ6zAcaik2KctZbFiRGU9G5bbEiRpRGWjbMvG6GWFs8X5GrgFbPk5KvoS6oqx77ZjU2az5ahwtzhW8rQIkjQFnLFO2ZZdrZS83axwwYZvXtccfKq8yVbTtxZTkZS5CzHDdc8r25krdOhZx6z5nPSaK2MJWQ/Ag1L2TlYx5FUj1ed1p+QfdA0NnpT5/ROwiXnqDgeU6kyDBNz4i6iNtBdB0kbyNrDCeVhK3k/ASGhaq5ozDd+7kn/YFS6deL1WWuqPeMP90u58aXfA4TAu+eGznV8lXWmBRlR5VdIn5/zwuhSOc5KOgPfATeCDD3gj6R4wUcAmgAfA23rnDfYRON819/g5cKnM9WU7M2CzcO+kcPBu/dp0Bgu5A1wALgNnC2DejvuO+w5kqy/q5ytPHvcHNOQZ8Ai4Xl5QAj40yLFjNyWN58EtSYcJlsee3+l6fw145Ng/MFpu5X7SFc6X4Dz0RhwEXKy5+Rv5Dcc1MsHPU90+AAAAAElFTkSuQmCC" alt="github-icon" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms;border-radius:0%"/><noscript><picture><source srcset="/static/472739dfb5857b1f659f4c4c6b4568d0/91664/github-icon.png 1x,
/static/472739dfb5857b1f659f4c4c6b4568d0/ad39b/github-icon.png 1.5x,
/static/472739dfb5857b1f659f4c4c6b4568d0/183c2/github-icon.png 2x" /><img loading="lazy" width="30" height="30" srcset="/static/472739dfb5857b1f659f4c4c6b4568d0/91664/github-icon.png 1x,
/static/472739dfb5857b1f659f4c4c6b4568d0/ad39b/github-icon.png 1.5x,
/static/472739dfb5857b1f659f4c4c6b4568d0/183c2/github-icon.png 2x" src="/static/472739dfb5857b1f659f4c4c6b4568d0/91664/github-icon.png" alt="github-icon" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></a></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/game-update-july-2020/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-de6f229c0a3977155403.js"],"app":["/app-53d9f45c280111285cc6.js"],"component---src-pages-404-js":["/component---src-pages-404-js-9f9f3b201c79f5ada664.js"],"component---src-pages-about-js":["/component---src-pages-about-js-52cef9a499bd99e9145c.js"],"component---src-pages-am-i-any-good-js":["/component---src-pages-am-i-any-good-js-65b9babfa2d890a62516.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-8c6d8df85515f5ae6944.js"],"component---src-pages-cv-js":["/component---src-pages-cv-js-16791ce48e9b695fb346.js"],"component---src-pages-games-js":["/component---src-pages-games-js-e1b7491f2c5b6634127e.js"],"component---src-pages-index-js":["/component---src-pages-index-js-894deaeec4138e99989e.js"],"component---src-pages-writing-js":["/component---src-pages-writing-js-732fb6b1cd08ac6cdeb9.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-552a845a6f752648ecfa.js"]};/*]]>*/</script><script src="/polyfill-de6f229c0a3977155403.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-552a845a6f752648ecfa.js" async=""></script><script src="/commons-5d21bf50adf654eb67de.js" async=""></script><script src="/app-53d9f45c280111285cc6.js" async=""></script><script src="/framework-576a35283827f43a776d.js" async=""></script><script src="/webpack-runtime-3f4bb3d5f74d12b7f003.js" async=""></script></body></html>